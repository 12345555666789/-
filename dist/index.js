!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){e.exports=function(){return n(2)('!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t,n){"use strict";var r=n(1),o=n(12),i=Object.prototype.toString;function u(e){return"[object Array]"===i.call(e)}function a(e){return null!==e&&"object"==typeof e}function s(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),u(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:u,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:s,isStream:function(e){return a(e)&&s(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\\s*/,"").replace(/\\s*$/,"")}}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(0);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var u=[];r.forEach(t,function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),u.push(o(t)+"="+o(e))}))}),i=u.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(0),o=n(18),i={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,s={adapter:(void 0!==t&&"[object process]"===Object.prototype.toString.call(t)?a=n(5):"undefined"!=typeof XMLHttpRequest&&(a=n(5)),a),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(u(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){s.headers[e]={}}),r.forEach(["post","put","patch"],function(e){s.headers[e]=r.merge(i)}),e.exports=s}).call(this,n(17))},function(e,t,n){"use strict";var r=n(0),o=n(19),i=n(2),u=n(21),a=n(22),s=n(6);e.exports=function(e){return new Promise(function(t,c){var f=e.data,l=e.headers;r.isFormData(f)&&delete l["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",h=e.auth.password||"";l.Authorization="Basic "+btoa(p+":"+h)}if(d.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?u(d.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:e,request:d};o(t,c,r),d=null}},d.onabort=function(){d&&(c(s("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){c(s("Network Error",e,null,d)),d=null},d.ontimeout=function(){c(s("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var m=n(23),v=(e.withCredentials||a(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;v&&(l[e.xsrfHeaderName]=v)}if("setRequestHeader"in d&&r.forEach(l,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete l[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),c(e),d=null)}),void 0===f&&(f=null),d.send(f)})}},function(e,t,n){"use strict";var r=n(20);e.exports=function(e,t,n,o,i){var u=new Error(e);return r(u,t,n,o,i)}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){t=t||{};var n={};return r.forEach(["url","method","params","data"],function(e){void 0!==t[e]&&(n[e]=t[e])}),r.forEach(["headers","auth","proxy"],function(o){r.isObject(t[o])?n[o]=r.deepMerge(e[o],t[o]):void 0!==t[o]?n[o]=t[o]:r.isObject(e[o])?n[o]=r.deepMerge(e[o]):void 0!==e[o]&&(n[o]=e[o])}),r.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){e.exports=n(11)},function(e,t,n){"use strict";n.r(t);var r=n(9),o=n.n(r);let i=n(28);globalThis.HelloIndexedDB=i;const{HelloIndexedDB:u}=globalThis.HelloIndexedDB;let a=new u,s={};onmessage=async e=>{await a.delete("MonitorWeb");let t=JSON.parse(e.data),n=t.queue,r={data:f(n),config:t.config};s=r.config;let o={};try{o=await a.getItem("MonitorWeb")||{}}catch(e){s.isLog&&console.log(e)}o.data&&o.data.length?o.data.push(...r.data):o=r;try{await a.setItem("MonitorWeb",o)}catch(e){s.isLog&&console.log(e)}l(s,o.data)};const c=["SyntaxError","ReferenceError","RangeError","TypeError","URLError","EvalError","promiseError"];function f(e){let t=[...e];return t.forEach(e=>{c.map(t=>{e.messages.includes(t)&&(e.errType=t)})}),t}let l=(e,t)=>{o.a.post(e.url,t).then(async n=>{e.isLog&&console.log(t.length+"条日志上报成功"),await a.delete("MonitorWeb"),postMessage("DONE")}).catch(()=>{postMessage("RETRY")})}},function(e,t,n){"use strict";var r=n(0),o=n(1),i=n(13),u=n(7);function a(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var s=a(n(4));s.Axios=i,s.create=function(e){return a(u(s.defaults,e))},s.Cancel=n(8),s.CancelToken=n(26),s.isCancel=n(3),s.all=function(e){return Promise.all(e)},s.spread=n(27),e.exports=s,e.exports.default=s},function(e,t){\n/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\ne.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";var r=n(0),o=n(2),i=n(14),u=n(15),a=n(7);function s(e){this.defaults=e,this.interceptors={request:new i,response:new i}}s.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[u,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},s.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\\?/,"")},r.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}}),r.forEach(["post","put","patch"],function(e){s.prototype[e]=function(t,n,o){return this.request(r.merge(o||{},{method:e,url:t,data:n}))}}),e.exports=s},function(e,t,n){"use strict";var r=n(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,n){"use strict";var r=n(0),o=n(16),i=n(3),u=n(4),a=n(24),s=n(25);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!a(e.url)&&(e.url=s(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||u.adapter)(e).then(function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(e){r=u}}();var s,c=[],f=!1,l=-1;function d(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&p())}function p(){if(!f){var e=a(d);f=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||f||a(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t,n){var o=n.config.validateStatus;!o||o(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,u={};return e?(r.forEach(e.split("\\n"),function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(u[t]&&o.indexOf(t)>=0)return;u[t]="set-cookie"===t?(u[t]?u[t]:[]).concat([n]):u[t]?u[t]+", "+n:n}}),u):u}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,u){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===u&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\\/+$/,"")+"/"+t.replace(/^\\/+/,""):e}},function(e,t,n){"use strict";var r=n(8);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){(function(t){var n;"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self,n=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"HelloIndexedDB",function(){return i});var r=n(1);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},o=r.name,i=void 0===o?"HelloIndexedDB":o,u=r.version,a=void 0===u?1:u,s=r.stores,c=r.use,f=r.timeout;s&&Array.isArray(s)&&s.length||(s=[{name:c||"HelloIndexedDB",isKeyValue:!0}]),c||(c=s[0].name);var l=s.find(function(e){return e.name===c});this.name=i,this.version=a,this.stores=s,this.currentStore=l,this.runtimes=[],l.isKeyValue&&(this.key=function(e){return n.keys().then(function(t){return t&&t[e]})},this.getItem=function(e){return n.get(e).then(function(e){return e&&e.value})},this.setItem=function(e,t){return n.put({key:e,value:t})},this.removeItem=function(e){return n.delete(e)}),indexedDB.open(i,a).onupgradeneeded=function(e){var t=e.target.result,n=Array.from(t.objectStoreNames),r=[];s.forEach(function(o){var i=null;if(n.indexOf(o.name)>-1)i=e.target.transaction.objectStore(o.name);else{var u=o.isKeyValue?"key":o.keyPath,a=!o.isKeyValue&&o.autoIncrement;i=t.createObjectStore(o.name,{keyPath:u,autoIncrement:a})}var s=i.indexNames;s&&s.length&&Array.from(s).forEach(function(e){return i.deleteIndex(e)}),o.indexes&&o.indexes.length&&o.indexes.forEach(function(e){i.createIndex(e.name,e.keyPath||e.name,{unique:e.unique,multiEntry:Array.isArray(e.keyPath)})}),r.push(o.name)}),n&&n.forEach(function(e){-1===r.indexOf(e)&&t.deleteObjectStore(e)})},this.timeout=f||0}var t,n,i;return t=e,(n=[{key:"db",value:function(){var e=this;return new Promise(function(t,n){var o=indexedDB.open(e.name,e.version);o.onerror=function(e){n(Object(r.a)(e))},o.onsuccess=function(e){t(e.target.result)}})}},{key:"use",value:function(t){return new e({name:this.name,version:this.version,stores:this.stores,use:t})}},{key:"close",value:function(){return this.runtimes=null,this.db().then(function(e){e.close()})}},{key:"transaction",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.currentStore.name,o=t?"readwrite":"readonly",i=this.runtimes,u=function(t){return function(){return e.db().then(function(i){var u=i.transaction(n,o);return u.oncomplete=function(){t.resolve(),t.complete()},u.onerror=function(e){t.reject(Object(r.a)(e)),t.complete()},u.onabort=function(e){t.resolve(),t.complete()},e.timeout>0&&setTimeout(function(){t&&t.status&&(t.reject(new Error("[HelloIndexedDB]: transaction timeout")),t.complete())},e.timeout),u})}},a=function(){var e={mode:o,status:1,resolve:function(){},reject:function(){},complete:function(){var t=i.indexOf(e);t>-1&&(e.status=0,i.splice(t,1))}};return e.deferer=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}();if(t){var s=i.length?i[i.length-1]:null;return i.push(a),s?s.deferer.then(u(a)).catch(u(a)):u(a)()}return u(a)()}},{key:"objectStore",value:function(){var e=this.currentStore.name;return this.transaction().then(function(t){return t.objectStore(e)})}},{key:"keyPath",value:function(){return this.objectStore().then(function(e){return e.keyPath})}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.currentStore.name;return this.transaction(t).then(function(t){return new Promise(function(o,i){var u=t.objectStore(n),a=e(u);a.onsuccess=function(e){var t=e.target.result;o(t)},a.onerror=function(e){i(Object(r.a)(e))}})})}},{key:"cursor",value:function(e){var t=e.index,n=e.range,r=e.direction,o=e.onTouch,i=e.onError,u=e.writable,a=this.currentStore.name;return this.transaction(u).then(function(e){var u=e.objectStore(a),s=t?u.index(t):u,c=s.openCursor(n,r);c.onsuccess=function(t){var n=t.target.result;o(n,e,s)},c.onerror=function(e){i(e)}})}},{key:"each",value:function(e){var t=this;return new Promise(function(n,o){var i=0;t.cursor({onTouch:function(t){t?(e(t.value,i),i++,t.continue()):n(i)},onError:function(e){o(Object(r.a)(e))}})})}},{key:"reverse",value:function(e){var t=this;return new Promise(function(n,o){var i=0;t.cursor({direction:"prev",onTouch:function(t){t?(e(t.value,i),i++,t.continue()):n(i)},onError:function(e){o(Object(r.a)(e))}})})}},{key:"get",value:function(e){return this.request(function(t){return t.get(e)})}},{key:"keys",value:function(){return this.request(function(e){return e.getAllKeys()})}},{key:"all",value:function(){return this.request(function(e){return e.getAll()})}},{key:"count",value:function(){return this.request(function(e){return e.count()})}},{key:"first",value:function(){var e=this;return new Promise(function(t,n){e.some(1).then(function(e){return t(e[0])}).catch(n)})}},{key:"last",value:function(){var e=this;return new Promise(function(t,n){e.some(1,0,"prev").then(function(e){return t(e[0])}).catch(n)})}},{key:"some",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise(function(o,i){var u,a=[],s=0,c=n,f=n+t;n<0&&(u="prev",t=Math.min(t,-n),f=(c=-(n+t))+t);var l=function(e){n<0&&e.reverse(),o(e)};e.cursor({direction:u,onTouch:function(e,t){e?(s<c?e.continue():s<f?(a.push(e.value),e.continue()):(l(a),t.abort()),s++):l(a)},onError:function(e){i(Object(r.a)(e))}})})}},{key:"find",value:function(e,t){return this.request(function(n){return n.index(e).get(t)})}},{key:"query",value:function(e,t,n){var o=this,i=function(){switch(n){case">":return IDBKeyRange.lowerBound(t,!0);case">=":return IDBKeyRange.lowerBound(t);case"<":return IDBKeyRange.upperBound(t,!0);case"<=":return IDBKeyRange.upperBound(t);case"%":case"!=":case"in":return;default:return IDBKeyRange.only(t)}}(),u=[];return new Promise(function(a,s){o.cursor({index:e,range:i,onTouch:function(e,o,i){if(e){var s=e.value,c=i.keyPath,f=Object(r.b)(s,c);"!="===n?f!==t&&u.push(s):"%"===n?"string"==typeof f&&f.indexOf(t)>-1&&u.push(s):"in"===n?Array.isArray(t)&&t.indexOf(f)>-1&&u.push(s):u.push(s),e.continue(),0}else a(u)},onError:function(e){s(Object(r.a)(e))}})})}},{key:"select",value:function(e){var t=this.currentStore.indexes||[],n={};t.forEach(function(e){var t=e.name,r=e.keyPath;n[t]=r});for(var o=[],i=[],u=0,a=e.length;u<a;u++){var s=e[u],c=s.key,f=s.value,l=s.compare,d=s.optional,p=n[c]||c;d?o.push({keyPath:p,value:f,compare:l}):i.push({keyPath:p,value:f,compare:l})}var h=[];return this.each(function(e){(function(e){for(var t=function(e,t,n){if(void 0===e)return!1;switch(n){case">":return e>t;case">=":return e>=t;case"<":return e<t;case"<=":return e<=t;case"!=":return e!==t;case"%":return"string"==typeof e&&e.indexOf(t)>-1;case"in":return Array.isArray(t)&&t.indexOf(e)>-1;default:return e===t}},n=0,u=i.length;n<u;n++){var a=i[n],s=a.keyPath,c=a.value,f=a.compare;if(!t(Object(r.b)(e,s),c,f))return!1}for(var l=0,d=o.length;l<d;l++){var p=o[l],h=p.keyPath;if(c=p.value,f=p.compare,t(Object(r.b)(e,h),c,f))return!0}return!1})(e)&&h.push(e)}).then(function(){return h})}},{key:"add",value:function(e){return this.request(function(t){return t.add(e)},"readwrite")}},{key:"put",value:function(e){return this.request(function(t){return t.put(e)},"readwrite")}},{key:"delete",value:function(e){return this.request(function(t){return t.delete(e)},"readwrite")}},{key:"remove",value:function(e){var t=this;return this.keyPath().then(function(n){var o=Object(r.b)(e,n);if(void 0===o)throw new Error("[HelloIndexedDB]: your passed object to remove() does not contain keyPath \'".concat(n,"\'."));return t.delete(o)})}},{key:"clear",value:function(){return this.request(function(e){return e.clear()},"readwrite")}}])&&o(t.prototype,n),i&&o(t,i),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){var n=function(e){return e.toString().split(/\\.|\\[|\\]/).filter(function(e){return!!e})}(t);if(!n.length)return e;for(var r=e,o=0,i=n.length;o<i;o++){var u=n[o];if(void 0===r[u])return;r=r[u]}return r}function o(e){return e.message="[HelloIndexedDB]: "+e.message,e}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o})}])},e.exports=n()}).call(this,n(29))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}]);',null)}},function(e,t,n){(function(t){var n;"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self,n=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"HelloIndexedDB",function(){return i});var r=n(1);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},o=r.name,i=void 0===o?"HelloIndexedDB":o,u=r.version,s=void 0===u?1:u,a=r.stores,c=r.use,f=r.timeout;a&&Array.isArray(a)&&a.length||(a=[{name:c||"HelloIndexedDB",isKeyValue:!0}]),c||(c=a[0].name);var l=a.find(function(e){return e.name===c});this.name=i,this.version=s,this.stores=a,this.currentStore=l,this.runtimes=[],l.isKeyValue&&(this.key=function(e){return n.keys().then(function(t){return t&&t[e]})},this.getItem=function(e){return n.get(e).then(function(e){return e&&e.value})},this.setItem=function(e,t){return n.put({key:e,value:t})},this.removeItem=function(e){return n.delete(e)}),indexedDB.open(i,s).onupgradeneeded=function(e){var t=e.target.result,n=Array.from(t.objectStoreNames),r=[];a.forEach(function(o){var i=null;if(n.indexOf(o.name)>-1)i=e.target.transaction.objectStore(o.name);else{var u=o.isKeyValue?"key":o.keyPath,s=!o.isKeyValue&&o.autoIncrement;i=t.createObjectStore(o.name,{keyPath:u,autoIncrement:s})}var a=i.indexNames;a&&a.length&&Array.from(a).forEach(function(e){return i.deleteIndex(e)}),o.indexes&&o.indexes.length&&o.indexes.forEach(function(e){i.createIndex(e.name,e.keyPath||e.name,{unique:e.unique,multiEntry:Array.isArray(e.keyPath)})}),r.push(o.name)}),n&&n.forEach(function(e){-1===r.indexOf(e)&&t.deleteObjectStore(e)})},this.timeout=f||0}var t,n,i;return t=e,(n=[{key:"db",value:function(){var e=this;return new Promise(function(t,n){var o=indexedDB.open(e.name,e.version);o.onerror=function(e){n(Object(r.a)(e))},o.onsuccess=function(e){t(e.target.result)}})}},{key:"use",value:function(t){return new e({name:this.name,version:this.version,stores:this.stores,use:t})}},{key:"close",value:function(){return this.runtimes=null,this.db().then(function(e){e.close()})}},{key:"transaction",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.currentStore.name,o=t?"readwrite":"readonly",i=this.runtimes,u=function(t){return function(){return e.db().then(function(i){var u=i.transaction(n,o);return u.oncomplete=function(){t.resolve(),t.complete()},u.onerror=function(e){t.reject(Object(r.a)(e)),t.complete()},u.onabort=function(e){t.resolve(),t.complete()},e.timeout>0&&setTimeout(function(){t&&t.status&&(t.reject(new Error("[HelloIndexedDB]: transaction timeout")),t.complete())},e.timeout),u})}},s=function(){var e={mode:o,status:1,resolve:function(){},reject:function(){},complete:function(){var t=i.indexOf(e);t>-1&&(e.status=0,i.splice(t,1))}};return e.deferer=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}();if(t){var a=i.length?i[i.length-1]:null;return i.push(s),a?a.deferer.then(u(s)).catch(u(s)):u(s)()}return u(s)()}},{key:"objectStore",value:function(){var e=this.currentStore.name;return this.transaction().then(function(t){return t.objectStore(e)})}},{key:"keyPath",value:function(){return this.objectStore().then(function(e){return e.keyPath})}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.currentStore.name;return this.transaction(t).then(function(t){return new Promise(function(o,i){var u=t.objectStore(n),s=e(u);s.onsuccess=function(e){var t=e.target.result;o(t)},s.onerror=function(e){i(Object(r.a)(e))}})})}},{key:"cursor",value:function(e){var t=e.index,n=e.range,r=e.direction,o=e.onTouch,i=e.onError,u=e.writable,s=this.currentStore.name;return this.transaction(u).then(function(e){var u=e.objectStore(s),a=t?u.index(t):u,c=a.openCursor(n,r);c.onsuccess=function(t){var n=t.target.result;o(n,e,a)},c.onerror=function(e){i(e)}})}},{key:"each",value:function(e){var t=this;return new Promise(function(n,o){var i=0;t.cursor({onTouch:function(t){t?(e(t.value,i),i++,t.continue()):n(i)},onError:function(e){o(Object(r.a)(e))}})})}},{key:"reverse",value:function(e){var t=this;return new Promise(function(n,o){var i=0;t.cursor({direction:"prev",onTouch:function(t){t?(e(t.value,i),i++,t.continue()):n(i)},onError:function(e){o(Object(r.a)(e))}})})}},{key:"get",value:function(e){return this.request(function(t){return t.get(e)})}},{key:"keys",value:function(){return this.request(function(e){return e.getAllKeys()})}},{key:"all",value:function(){return this.request(function(e){return e.getAll()})}},{key:"count",value:function(){return this.request(function(e){return e.count()})}},{key:"first",value:function(){var e=this;return new Promise(function(t,n){e.some(1).then(function(e){return t(e[0])}).catch(n)})}},{key:"last",value:function(){var e=this;return new Promise(function(t,n){e.some(1,0,"prev").then(function(e){return t(e[0])}).catch(n)})}},{key:"some",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise(function(o,i){var u,s=[],a=0,c=n,f=n+t;n<0&&(u="prev",t=Math.min(t,-n),f=(c=-(n+t))+t);var l=function(e){n<0&&e.reverse(),o(e)};e.cursor({direction:u,onTouch:function(e,t){e?(a<c?e.continue():a<f?(s.push(e.value),e.continue()):(l(s),t.abort()),a++):l(s)},onError:function(e){i(Object(r.a)(e))}})})}},{key:"find",value:function(e,t){return this.request(function(n){return n.index(e).get(t)})}},{key:"query",value:function(e,t,n){var o=this,i=function(){switch(n){case">":return IDBKeyRange.lowerBound(t,!0);case">=":return IDBKeyRange.lowerBound(t);case"<":return IDBKeyRange.upperBound(t,!0);case"<=":return IDBKeyRange.upperBound(t);case"%":case"!=":case"in":return;default:return IDBKeyRange.only(t)}}(),u=[];return new Promise(function(s,a){o.cursor({index:e,range:i,onTouch:function(e,o,i){if(e){var a=e.value,c=i.keyPath,f=Object(r.b)(a,c);"!="===n?f!==t&&u.push(a):"%"===n?"string"==typeof f&&f.indexOf(t)>-1&&u.push(a):"in"===n?Array.isArray(t)&&t.indexOf(f)>-1&&u.push(a):u.push(a),e.continue(),0}else s(u)},onError:function(e){a(Object(r.a)(e))}})})}},{key:"select",value:function(e){var t=this.currentStore.indexes||[],n={};t.forEach(function(e){var t=e.name,r=e.keyPath;n[t]=r});for(var o=[],i=[],u=0,s=e.length;u<s;u++){var a=e[u],c=a.key,f=a.value,l=a.compare,h=a.optional,d=n[c]||c;h?o.push({keyPath:d,value:f,compare:l}):i.push({keyPath:d,value:f,compare:l})}var p=[];return this.each(function(e){(function(e){for(var t=function(e,t,n){if(void 0===e)return!1;switch(n){case">":return e>t;case">=":return e>=t;case"<":return e<t;case"<=":return e<=t;case"!=":return e!==t;case"%":return"string"==typeof e&&e.indexOf(t)>-1;case"in":return Array.isArray(t)&&t.indexOf(e)>-1;default:return e===t}},n=0,u=i.length;n<u;n++){var s=i[n],a=s.keyPath,c=s.value,f=s.compare;if(!t(Object(r.b)(e,a),c,f))return!1}for(var l=0,h=o.length;l<h;l++){var d=o[l],p=d.keyPath;if(c=d.value,f=d.compare,t(Object(r.b)(e,p),c,f))return!0}return!1})(e)&&p.push(e)}).then(function(){return p})}},{key:"add",value:function(e){return this.request(function(t){return t.add(e)},"readwrite")}},{key:"put",value:function(e){return this.request(function(t){return t.put(e)},"readwrite")}},{key:"delete",value:function(e){return this.request(function(t){return t.delete(e)},"readwrite")}},{key:"remove",value:function(e){var t=this;return this.keyPath().then(function(n){var o=Object(r.b)(e,n);if(void 0===o)throw new Error("[HelloIndexedDB]: your passed object to remove() does not contain keyPath '".concat(n,"'."));return t.delete(o)})}},{key:"clear",value:function(){return this.request(function(e){return e.clear()},"readwrite")}}])&&o(t.prototype,n),i&&o(t,i),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){var n=function(e){return e.toString().split(/\.|\[|\]/).filter(function(e){return!!e})}(t);if(!n.length)return e;for(var r=e,o=0,i=n.length;o<i;o++){var u=n[o];if(void 0===r[u])return;r=r[u]}return r}function o(e){return e.message="[HelloIndexedDB]: "+e.message,e}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o})}])},e.exports=n()}).call(this,n(3))},function(e,t,n){"use strict";var r=window.URL||window.webkitURL;e.exports=function(e,t){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),n=n.getBlob()}catch(t){n=new Blob([e])}return new Worker(r.createObjectURL(n))}catch(t){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(e){if(!t)throw Error("Inline worker is not supported");return new Worker(t)}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(1);let u=new(n.n(i).a);"toJSON"in ErrorEvent.prototype||Object.defineProperty(ErrorEvent.prototype,"toJSON",{value(){const e={};return Object.getOwnPropertyNames(this).forEach(function(t){e[t]=this[t]},this),e},configurable:!0,writable:!0});class s{constructor(e){let t=e;if(void 0===t)throw new Error("MonitorWeb初始化错误 - 构造函数的参数不能为空！");if("string"==typeof t)t={url:e,maxRetryCount:5,reportingCycle:1e4,maxQueueCount:100,moduleName:location.pathname.split("/")[1]||null,isLog:!0};else{if("object"!=typeof t)throw new Error("MonitorWeb初始化错误 - 构造函数的参数格式不正确！");if("string"!=typeof e.url)throw new Error("MonitorWeb初始化错误 - 构造函数的参数 url 必须是一个字符串！");"number"!=typeof e.maxRetryCount&&(t.maxRetryCount=5),"number"!=typeof e.reportingCycle&&(t.reportingCycle=1e4),"number"!=typeof e.maxQueueCount&&(t.maxQueueCount=100),"string"!=typeof e.moduleName&&(t.moduleName=location.pathname.split("/")[1]||null),"boolean"!=typeof e.isLog&&(t.isLog=!0)}this.url=t.url,this.retryCount=1,this.config=t,this.stylize=null==t.stylize||t.stylize,this.stylize=this.stylize&&s._stylizeSupport(),this.queue=[],this.clickEvents=[],this.autoLogError=null==t.autoLogError||t.autoLogError,this.autoLogRejection=null==t.autoLogRejection||t.autoLogRejection,this.autoLogAjax=null==t.autoLogAjax||t.autoLogAjax;this.logAjaxFilter=null==t.logAjaxFilter?(e,t)=>!0:t.logAjaxFilter,this.xhrOpen=XMLHttpRequest.prototype.open,this.xhrSend=XMLHttpRequest.prototype.send,this._init()}_init(){this.getReqId(),this.exceptionHandler(),this.exceptionClick(),this.ajaxHandler(),this.clearHistory(),this.timer=setInterval(()=>{this.send()},this.config.reportingCycle)}async clearHistory(){let e=await u.getItem("MonitorWeb");e&&e.data.length&&this.queue.push(...e.data),await u.delete("MonitorWeb")}exceptionClick(){document.addEventListener("click",e=>{let t=[];e.path.forEach(e=>{t.unshift({nodeName:e.nodeName||"WINDOW",className:e.className||null,id:e.id||null})}),this.clickEvents.unshift({x:e.pageX,y:e.pageY,width:window.innerWidth,height:window.innerHeight,path:t})})}exceptionHandler(){window.addEventListener("error",e=>{let t={type:"[onError]",messages:e.message||null,path:e.filename||null,lineNo:e.lineno||null,columnNo:e.colno||null,error:e.error.stack||null,isTrusted:e.isTrusted||null,time:(new Date).getTime(),timeLocalString:s._getDateTimeString(new Date),clickEvents:this.clickEvents||null,userAgent:navigator.userAgent||null,moduleName:this.config.moduleName,id:this.reqId+"-"+Number(Math.random().toString().substr(2)).toString(36)};this.queue.push(t)}),window.addEventListener("unhandledrejection",e=>{let t={type:"[onError]",messages:e.reason||null,path:window.location.href||null,errorType:"PromiseError",userAgent:navigator.userAgent||null,time:(new Date).getTime(),timeLocalString:s._getDateTimeString(new Date),clickEvents:this.clickEvents||null,moduleName:this.config.moduleName,id:this.reqId+"-"+Number(Math.random().toString().substr(2)).toString(36)};this.queue.push(t)})}static resolveUrl(e){const t=document.createElement("a");return t.href=e,`${t.protocol}//${t.host}${t.pathname}${t.search}${t.hash}`}ajaxHandler(){if(this.autoLogAjax){const e=this;XMLHttpRequest.prototype.open=function(...t){this._MonitorWebMethod=t[0],this._MonitorWebUrl=s.resolveUrl(t[1]),e.xhrOpen.apply(this,t)},XMLHttpRequest.prototype.send=function(t){const n=new Date;this.addEventListener("readystatechange",function(){if(e.logAjaxFilter(this._MonitorWebUrl,this._MonitorWebMethod))try{if(this.readyState===XMLHttpRequest.DONE){const r=(new Date-n)/1e3,o=[];this.status>=200&&this.status<400?o.push("接口请求成功。"):o.push("接口请求失败！"),o.push(`请求耗时：${r}s URL：${this._MonitorWebUrl} 请求方式：${this._MonitorWebMethod}`),"post"===this._MonitorWebMethod.toLowerCase()&&o.push("表单数据：",t),o.push(`状态码：${this.status}`),this.status>=200&&this.status<400||e.error("[ajax]",...o),console&&console.group&&console.groupEnd()}}catch(n){const r=[];r.push("接口请求出错！"),r.push(`URL：${this._MonitorWebUrl} 请求方式：${this._MonitorWebMethod}`),"post"===this._MonitorWebMethod.toLowerCase()&&r.push("表单数据：",t),r.push(`状态码：${this.status}`),r.push(`ERROR：${n}`),e.error("[ajax]",...r)}}),e.xhrSend.call(this,t)}}}pushToQueue(e,t,...n){n.unshift(`{${this.reqId+"-"+Number(Math.random().toString().substr(2)).toString(36)}}`),this.queue.push({type:"[ajax]",time:s._getDateTimeString(e),moduleName:this.config.moduleName,level:t,messages:n,url:window.location.href,userAgent:navigator.userAgent})}send(){this.queue&&this.queue.length&&this.saveError()}saveError(){let e=new o.a,t={config:this.config,queue:this.queue.slice(0,this.config.maxQueueCount)};e.postMessage(JSON.stringify(t)),e.onmessage=async t=>{t.data===s.workerEnmu.done&&(this.queue=[],this.retryCount=1),t.data===s.workerEnmu.retry&&(this.retryCount>=this.config.maxRetryCount?(clearInterval(this.timer),this.config.isLog&&console.log(`发送日志请求的连续失败次数过多，已停止发送日志。请检查日志接口 ${this.url} 是否正常！`)):(this.config.isLog&&console.log("配置地址["+this.config.url+"]上报失败, 等待下次重试 "+this.retryCount+"..."),await u.delete("MonitorWeb"),this.retryCount++)),e.terminate(),e=null}}static _stylizeSupport(){const e=!!window.chrome,t=-1!==navigator.userAgent.indexOf("Firefox");return e||t}getReqId(){if(this.reqId=document.querySelector('[name="_reqId"]')?document.querySelector('[name="_reqId"]').content:"",this.reqId||(this.reqId=window._reqId),this.reqId)this.idFromServer=!0;else{let e=Date.now();"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),this.reqId="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}),this.idFromServer=!1}}static _getTimeString(e){const t=null===e?new Date:e;let n=String(t.getHours());1===n.length&&(n=`0${n}`);let r=String(t.getMinutes());1===r.length&&(r=`0${r}`);let o=String(t.getSeconds());1===o.length&&(o=`0${o}`);let i=String(t.getMilliseconds());return 1===i.length?i=`00${i}`:2===i.length&&(i=`0${i}`),`${n}:${r}:${o}.${i}`}static _getDateTimeString(e){const t=null===e?new Date:e,n=String(t.getFullYear());let r=String(t.getMonth()+1);1===r.length&&(r=`0${r}`);let o=String(t.getDate());return 1===o.length&&(o=`0${o}`),`${n}-${r}-${o} ${s._getTimeString(t)}`}_printConsole(e,t,...n){console&&this.config.isLog&&(this.stylize?console[t](`%c[${s._getTimeString(e)}] [${t.toUpperCase()}] -`,`color: ${s.colorEnum[t]}`,...n):console[t](...n))}_log(e,t,...n){this._printConsole(e,t,...n),this.pushToQueue(e,t,...n)}info(...e){this._log(null,s.levelEnum.info,...e)}log(...e){this.info(...e)}warn(...e){this._log(null,s.levelEnum.warn,...e)}error(...e){this._log(null,s.levelEnum.error,...e)}}s.levelEnum={info:"info",warn:"warn",error:"error"},s.colorEnum={info:"DodgerBlue",warn:"orange",error:"red",ajaxGroup:"#800080",sendSuccess:"green",desc:"#d30775"},s.workerEnmu={done:"DONE",retry:"RETRY",failed:"FAILED"};var a=s;window.MonitorWeb=a;t.default=a}]);